const CONFIG = {"version":"0.3.10","hostname":"https://blog.minz.li","root":"/","statics":"/","favicon":{"normal":"assets/favicon.ico","hidden":"assets/failure.ico"},"darkmode":false,"auto_dark":{"enable":true,"start":20,"end":7},"auto_scroll":false,"js":{"chart":"npm/frappe-charts@1.5.0/dist/frappe-charts.min.iife.min.js","copy_tex":"npm/katex@0.16.7/dist/contrib/copy-tex.min.js","fancybox":"combine/npm/jquery@3.5.1/dist/jquery.min.js,npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js,npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js"},"css":{"katex":"npm/katex@0.16.7/dist/katex.min.css","mermaid":"css/mermaid.css","fancybox":"combine/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css,npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"},"loader":{"start":true,"switch":false},"search":null,"outime":{"enable":false,"days":90},"quicklink":{"timeout":3000,"priority":true},"playerAPI":"https://api.injahow.cn","disableVL":false,"noPlayer":false,"fireworks":{"excludeElements":["a"],"particles":[{"shape":"circle","move":["emit"],"easing":"easeOutExpo","colors":["rgba(255,182,185,.9)","rgba(250,227,217,.9)","rgba(187,222,214,.9)","rgba(138,198,209,.9)"],"number":30,"duration":[1200,1800],"shapeOptions":{"radius":[16,32]}},{"shape":"circle","move":["diffuse"],"easing":"easeOutExpo","colors":["#fff"],"number":1,"duration":[1200,1800],"shapeOptions":{"radius":20,"alpha":0.5,"lineWidth":6}}]}};(()=>{var Os=Object.create;var Se=Object.defineProperty;var Ns=Object.getOwnPropertyDescriptor;var Ms=Object.getOwnPropertyNames;var As=Object.getPrototypeOf,Hs=Object.prototype.hasOwnProperty;var z=(e,t)=>()=>(e&&(t=e(e=0)),t);var Le=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),de=(e,t)=>{for(var o in t)Se(e,o,{get:t[o],enumerable:!0})},Bt=(e,t,o,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let c of Ms(t))!Hs.call(e,c)&&c!==o&&Se(e,c,{get:()=>t[c],enumerable:!(r=Ns(t,c))||r.enumerable});return e};var Te=(e,t,o)=>(o=e!=null?Os(As(e)):{},Bt(t||!e||!e.__esModule?Se(o,"default",{value:e,enumerable:!0}):o,e)),he=e=>Bt(Se({},"__esModule",{value:!0}),e);var Rt={};de(Rt,{$dom:()=>v,getDocHeight:()=>Je});var Je,v,G=z(()=>{Je=()=>v("main > .inner").offsetHeight,v=(e,t=document)=>e[0]==="#"?t.getElementById(e.substring(1)):t.querySelector(e);v.all=(e,t=document)=>t.querySelectorAll(e);v.each=(e,t,o)=>{v.all(e,o).forEach(t)};v.asyncify=async(e,t=document)=>e[0]==="#"?t.getElementById(e.substring(1)):t.querySelector(e);v.asyncifyEach=(e,t,o)=>{v.all(e,o).forEach(t)}});function Qe(){Object.assign(HTMLElement.prototype,{createChild(e,t,o){let r=document.createElement(e);switch(Object.assign(r,t),o){case"after":this.insertAfter(r);break;case"replace":this.innerHTML="",this.appendChild(r);break;default:this.appendChild(r)}return r},wrapObject(e){let t=document.createElement("div");Object.assign(t,e),this.parentNode.insertBefore(t,this),this.parentNode.removeChild(this),t.appendChild(this)},changeOrGetHeight(e){return e&&(this.style.height=typeof e=="number"?e+"rem":e),this.getBoundingClientRect().height},changeOrGetWidth(e){return e&&(this.style.width=typeof e=="number"?e+"rem":e),this.getBoundingClientRect().width},getTop(){return this.getBoundingClientRect().top},left(){return this.getBoundingClientRect().left},attr(e,t){return t===null?this.removeAttribute(e):t?(this.setAttribute(e,t),this):this.getAttribute(e)},insertAfter(e){let t=this.parentNode;t.lastChild===this?t.appendChild(e):t.insertBefore(e,this.nextSibling)},display(e){return e==null?this.style.display:(this.style.display=e,this)},child(e){return v(e,this)},find(e){return v.all(e,this)},_class(e,t,o){(t.indexOf(" ")?t.split(" "):[t]).forEach(c=>{e==="toggle"?this.classList.toggle(c,o):this.classList[e](c)})},addClass(e){return this._class("add",e),this},removeClass(e){return this._class("remove",e),this},toggleClass(e,t){return this._class("toggle",e,t),this},hasClass(e){return this.classList.contains(e)}})}var $t=z(()=>{G()});var Ft={};de(Ft,{BODY:()=>J,Container:()=>Ve,HTML:()=>ke,LOCAL_HASH:()=>Ne,LOCAL_URL:()=>ye,backToTop:()=>me,diffY:()=>ue,goToComment:()=>fe,headerHight:()=>Re,headerHightInner:()=>Oe,loadCat:()=>ae,menuToggle:()=>ne,oWinHeight:()=>Dt,oWinWidth:()=>$e,originTitle:()=>oe,pjax:()=>De,quickBtn:()=>je,scrollAction:()=>ie,setBackToTop:()=>dt,setDiffY:()=>ot,setGoToComment:()=>ht,setHeaderHight:()=>tt,setHeaderHightInner:()=>et,setLocalHash:()=>ve,setLocalUrl:()=>nt,setOWinHeight:()=>st,setOWinWidth:()=>it,setOriginTitle:()=>lt,setPjax:()=>rt,setShowContents:()=>ut,setSiteNavHeight:()=>Ze,setSiteSearch:()=>mt,setTitleTime:()=>at,setToolBtn:()=>pt,setToolPlayer:()=>ct,showContents:()=>ge,sideBar:()=>j,siteBrand:()=>Ke,siteHeader:()=>Ee,siteNav:()=>Q,siteNavHeight:()=>Be,siteSearch:()=>re,statics:()=>Pe,titleTime:()=>qe,toolBtn:()=>ee,toolPlayer:()=>pe});function Ze(e){Be=e}function et(e){Oe=e}function tt(e){Re=e}function st(e){Dt=e}function it(e){$e=e}function ot(e){ue=e}function at(e){qe=e}function ve(e){Ne=e}function nt(e){ye=e}function rt(e){De=e}function lt(e){oe=e}function ct(e){pe=e}function dt(e){me=e}function ht(e){fe=e}function ut(e){ge=e}function pt(e){ee=e}function mt(e){re=e}var Pe,ie,ue,oe,qe,J,ke,Ve,ae,Q,Ee,ne,je,j,Ke,ee,pe,me,fe,ge,re,Be,Oe,Re,Dt,$e,Ne,ye,De,X=z(()=>{G();$t();Qe();Pe=CONFIG.statics.indexOf("//")>0?CONFIG.statics:CONFIG.root,ie={x:0,y:0},ue=0,J=document.getElementsByTagName("body")[0],ke=document.documentElement,Ve=v("#container"),ae=v("#loading"),Q=v("#nav"),Ee=v("#header"),ne=Q.child(".toggle"),je=v("#quick"),j=v("#sidebar"),Ke=v("#brand"),ee=v("#tool"),re=v("#search"),Dt=window.innerHeight,$e=window.innerWidth,Ne=0,ye=window.location.href});var Gt=Le((ft,gt)=>{(function(e,t){typeof ft=="object"&&typeof gt<"u"?gt.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self).anime=t()})(ft,function(){"use strict";class e{constructor(){this.queue=[]}add(p){return this.queue.push(new l(p)),this}play(){this.queue.forEach(p=>p.play())}}let t={targets:null,duration:1/0,easing:"linear",delay:0,begin:null,update:null,complete:null};var o=()=>{let m={linear:()=>u=>u},p={Sine:()=>u=>1-Math.cos(u*Math.PI/2),Circ:()=>u=>1-Math.sqrt(1-u*u),Back:()=>u=>u*u*(3*u-2),Bounce:()=>u=>{let b,N=4;for(;u<((b=Math.pow(2,--N))-1)/11;);return 1/Math.pow(4,3-N)-7.5625*Math.pow((3*b-2)/22-u,2)}};return["Quad","Cubic","Quart","Quint","Expo"].forEach((u,b)=>{p[u]=()=>N=>Math.pow(N,b+2)}),Object.keys(p).forEach(u=>{let b=p[u];m["easeIn"+u]=b,m["easeOut"+u]=()=>N=>1-b()(1-N),m["easeInOut"+u]=()=>N=>N<.5?b()(2*N)/2:1-b()(-2*N+2)/2,m["easeOutIn"+u]=()=>N=>N<.5?(1-b()(1-2*N))/2:(b()(2*N-1)+1)/2}),m};let r=["translateX","translateY","translateZ"],c=(m,p)=>m instanceof HTMLElement&&m.style&&"transform"in m.style&&r.includes(p)?"transform":m instanceof HTMLElement&&m.style&&p in m.style?"style":"attribute";class l{constructor(p=t){p=Object.assign({},t,p);let{targets:u,duration:b,easing:N,delay:B,begin:M,update:s,complete:a,...i}=p;this.targets=u,this.duration=b,this.easing=N,this.delay=B,this.begin=M,this.update=s,this.complete=a,this.dest=i||{},this.tl=null,this.isPlay=!1}timeline(){return this.tl===null&&(this.tl=new e),this.tl}play(){this.isPlay||(this.isPlay=!0,(p=>{let u=Date.now()+p.delay,b=u+p.duration,N=!!p.targets,B=[],M=(i,h,n,d,C,g=!1)=>{let E;if(typeof d=="string")if(d.endsWith("%"))E="%",d=parseFloat(d);else{if(!d.endsWith("px"))throw new TypeError("string value must ends with '%' or 'px'");E="px",d=parseFloat(d)}let k=g?d:(d-h)*n+h;switch(E&&(k+=E),c(i,C)){case"transform":i.style.transform=E?`${C}(${k})`:`${C}(${k}px)`;break;case"style":i.style[C]=k;break;case"attribute":i[C]=k}},s=(i,h,n=!1)=>{p.targets.forEach((d,C)=>{Object.keys(p.dest).forEach(g=>{let E=parseFloat(B[C][g]),k=p.dest[g];if(typeof k=="object")if(Array.isArray(k)){let q=0;for(;q<k.length&&!(h-u<k[q].startTimeStamp);q++);let{value:R,duration:D,easing:K,startTimeStamp:Ye}=k[q-1];h<=u+D+Ye?(i=o()[K||p.easing]()((h-u)/D),M(d,E,i,R,g)):n&&M(d,E,i,R,g,n)}else{let{value:q,duration:R,easing:D}=k;h<=u+R?(i=o()[D||p.easing]()((h-u)/R),M(d,E,i,q,g)):n&&M(d,E,i,q,g,n)}else typeof k=="function"&&(k=k(d,C)),M(d,E,i,k,g,n)})})},a=()=>{let i=Date.now();if(i>b)return s(1,i,!0),typeof p.complete=="function"&&p.complete(p.targets),void(p.isPlay=!1);if(i<u)return void requestAnimationFrame(a);let h=o()[p.easing]()((i-u)/p.duration);N&&s(h,i),typeof p.update=="function"&&p.update(p.targets),requestAnimationFrame(a)};(()=>{if(N){Array.isArray(p.targets)||(p.targets=[p.targets]);for(let i of p.targets){let h={};for(let n in p.dest){let d=p.dest[n];if(Array.isArray(d))if(d.length===2&&typeof d[0]!="object"){switch(c(i,n)){case"transform":typeof d[0]=="string"?i.style.transform=`${n}(${d[0]})`:i.style.transform=`${n}(${d[0]}px)`;break;case"style":i.style[n]=d[0];break;case"attribute":i[n]=d[0]}h[n]=d[0],p.dest[n]=d[1]}else{let C=0;for(let g of d)g.startTimeStamp=C,C+=g.duration;h[n]=i[n]}else switch(c(i,n)){case"transform":let C=new RegExp(`${n}((w+))`,"g");h[n]=i.style.transform.match(C)[0];break;case"style":h[n]=i.style[n];break;case"attribute":h[n]=i[n]}}B.push(h)}}})(),typeof p.begin=="function"&&p.begin(p.targets),a()})(this))}}let y=m=>new l(m);return y.random=function(m,p){return Math.floor(Math.random()*(p-m+1))+m},y})});var Wt={};de(Wt,{pageScroll:()=>U,transition:()=>_});var yt,_,U,V=z(()=>{yt=Te(Gt());X();_=(e,t,o,r)=>{let c,l="none";switch(t){case 0:c={opacity:[1,0]};break;case 1:c={opacity:[0,1]},l="block";break;case"bounceUpIn":c={begin(y){e.display("block")},translateY:[{value:-60,duration:200},{value:10,duration:200},{value:-5,duration:200},{value:0,duration:200}],opacity:[0,1]},l="block";break;case"shrinkIn":c={begin(y){e.display("block")},scale:[{value:1.1,duration:300},{value:1,duration:200}],opacity:1},l="block";break;case"slideRightIn":c={begin(y){e.display("block")},translateX:["100%","0%"],opacity:[0,1]},l="block";break;case"slideRightOut":c={translateX:["0%","100%"],opacity:[1,0]};break;default:c=t,l=t.display;break}(0,yt.default)(Object.assign({targets:e,duration:200,easing:"linear",begin(){r&&r()},complete(){e.display(l),o&&o()}},c)).play()},U=(e,t,o)=>{(0,yt.default)({targets:typeof t=="number"&&typeof e!="number"?e.parentNode:document.scrollingElement,duration:500,easing:"easeInOutQuad",scrollTop:t||(typeof e=="number"?e:e?e.getTop()+document.documentElement.scrollTop-Be:0),complete(){o&&o()}}).play()}});var F,Me=z(()=>{F={set(e,t){localStorage.setItem(e,t)},get(e){return localStorage.getItem(e)},del(e){localStorage.removeItem(e)}}});var _t={};de(_t,{clipBoard:()=>wt,pagePosition:()=>Ae,positionInit:()=>bt,showtip:()=>vt});var vt,Ae,bt,wt,be=z(()=>{V();G();Me();X();vt=e=>{if(!e)return;let t=J.createChild("div",{innerHTML:e,className:"tip"});setTimeout(()=>{t.addClass("hide"),setTimeout(()=>{J.removeChild(t)},300)},3e3)},Ae=()=>{CONFIG.auto_scroll&&F.set(ye,String(ie.y))},bt=e=>{let t=window.location.hash,o=null;if(Ne){F.del(ye);return}t?o=v(decodeURI(t)):o=CONFIG.auto_scroll?parseInt(F.get(ye)):0,o&&(U(o),ve(1)),e&&t&&!Ne&&(U(o),ve(1))},wt=(e,t)=>{if(navigator.clipboard&&window.isSecureContext)navigator.clipboard.writeText(e).then(()=>{t&&t(!0)},()=>{t&&t(!1)});else{let o=J.createChild("textarea",{style:{top:window.scrollY+"px",position:"absolute",opacity:"0"},readOnly:!0,value:e}),r=document.getSelection(),c=r.rangeCount>0?r.getRangeAt(0):!1;o.select(),o.setSelectionRange(0,e.length),o.readOnly=!1;let l=document.execCommand("copy");t&&t(l),o.blur(),c&&(r.removeAllRanges(),r.addRange(c)),J.removeChild(o)}}});var Qt=Le((Ct,Lt)=>{(function(e,t){typeof Ct=="object"&&typeof Lt<"u"?Lt.exports=t():typeof define=="function"&&define.amd?define(t):e.lozad=t()})(Ct,function(){"use strict";var e=typeof document<"u"&&document.documentMode,t={rootMargin:"0px",threshold:0,load:function(l){if(l.nodeName.toLowerCase()==="picture"){var y=l.querySelector("img"),m=!1;y===null&&(y=document.createElement("img"),m=!0),e&&l.getAttribute("data-iesrc")&&(y.src=l.getAttribute("data-iesrc")),l.getAttribute("data-alt")&&(y.alt=l.getAttribute("data-alt")),m&&l.append(y)}if(l.nodeName.toLowerCase()==="video"&&!l.getAttribute("data-src")&&l.children){for(var p=l.children,u=void 0,b=0;b<=p.length-1;b++)(u=p[b].getAttribute("data-src"))&&(p[b].src=u);l.load()}l.getAttribute("data-poster")&&(l.poster=l.getAttribute("data-poster")),l.getAttribute("data-src")&&(l.src=l.getAttribute("data-src")),l.getAttribute("data-srcset")&&l.setAttribute("srcset",l.getAttribute("data-srcset"));var N=",";if(l.getAttribute("data-background-delimiter")&&(N=l.getAttribute("data-background-delimiter")),l.getAttribute("data-background-image"))l.style.backgroundImage="url('"+l.getAttribute("data-background-image").split(N).join("'),url('")+"')";else if(l.getAttribute("data-background-image-set")){var B=l.getAttribute("data-background-image-set").split(N),M=B[0].substr(0,B[0].indexOf(" "))||B[0];M=M.indexOf("url(")===-1?"url("+M+")":M,B.length===1?l.style.backgroundImage=M:l.setAttribute("style",(l.getAttribute("style")||"")+"background-image: "+M+"; background-image: -webkit-image-set("+B+"); background-image: image-set("+B+")")}l.getAttribute("data-toggle-class")&&l.classList.toggle(l.getAttribute("data-toggle-class"))},loaded:function(){}};function o(l){l.setAttribute("data-loaded",!0)}var r=function(l){return l.getAttribute("data-loaded")==="true"},c=function(l){var y=1<arguments.length&&arguments[1]!==void 0?arguments[1]:document;return l instanceof Element?[l]:l instanceof NodeList?l:y.querySelectorAll(l)};return function(){var l,y,m=0<arguments.length&&arguments[0]!==void 0?arguments[0]:".lozad",p=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},u=Object.assign({},t,p),b=u.root,N=u.rootMargin,B=u.threshold,M=u.load,s=u.loaded,a=void 0;typeof window<"u"&&window.IntersectionObserver&&(a=new IntersectionObserver((l=M,y=s,function(d,C){d.forEach(function(g){(0<g.intersectionRatio||g.isIntersecting)&&(C.unobserve(g.target),r(g.target)||(l(g.target),o(g.target),y(g.target)))})}),{root:b,rootMargin:N,threshold:B}));for(var i,h=c(m,b),n=0;n<h.length;n++)(i=h[n]).getAttribute("data-placeholder-background")&&(i.style.background=i.getAttribute("data-placeholder-background"));return{observe:function(){for(var d=c(m,b),C=0;C<d.length;C++)r(d[C])||(a?a.observe(d[C]):(M(d[C]),o(d[C]),s(d[C])))},triggerLoad:function(d){r(d)||(M(d),o(d),s(d))},observer:a}}})});var Fe,Tt=z(()=>{V();G();Fe=()=>{let e;v.each("div.tab",t=>{if(t.attr("data-ready"))return;let o=t.attr("data-id"),r=t.attr("data-title"),c=v("#"+o);c?e=!1:(c=document.createElement("div"),c.className="tabs",c.id=o,c.innerHTML='<div class="show-btn"></div>',c.child(".show-btn").addEventListener("click",()=>{U(c)}),t.parentNode.insertBefore(c,t),e=!0);let l=c.child(".nav ul");l||(l=c.createChild("div",{className:"nav",innerHTML:"<ul></ul>"}).child("ul"));let y=l.createChild("li",{innerHTML:r});e&&(y.addClass("active"),t.addClass("active")),y.addEventListener("click",m=>{let p=m.currentTarget;c.find(".active").forEach(u=>{u.removeClass("active")}),t.addClass("active"),p.addClass("active")}),c.appendChild(t),t.attr("data-ready",String(!0))})}});var es={};de(es,{mediaPlayer:()=>xe});var Ge,kt,xe,We=z(()=>{X();be();V();G();Me();Tt();Ge=null,kt=/mobile/i.test(window.navigator.userAgent),xe=(e,t)=>{if(CONFIG.noPlayer)return;let o={el:{},create(){e.player.options.btns&&e.player.options.btns.forEach(s=>{o.el[s]||(o.el[s]=e.createChild("div",{className:s+" btn",onclick(a){e.player.fetch().then(()=>{e.player.options.events[s](a)})}}))})}},r={el:null,btns:{mode:void 0,volume:void 0},step:"next",create:()=>{if(!e.player.options.controls)return;let s=r;e.player.options.controls.forEach(a=>{if(s.btns[a])return;let i={onclick(h){s.events[a]?s.events[a](h):e.player.options.events[a](h)}};switch(a){case"volume":i.className=" "+(y.muted?"off":"on"),i.innerHTML='<div class="bar"></div>',i["on"+b.nameMap.dragStart]=s.events.volume,i.onclick=null;break;case"mode":i.className=" "+e.player.options.mode;break;default:i.className="";break}i.className=a+i.className+" btn",s.btns[a]=s.el.createChild("div",i)}),s.btns.volume.bar=s.btns.volume.child(".bar")},events:{mode(s){switch(e.player.options.mode){case"loop":e.player.options.mode="random";break;case"random":e.player.options.mode="order";break;default:e.player.options.mode="loop"}r.btns.mode.className="mode "+e.player.options.mode+" btn",F.set("_PlayerMode",e.player.options.mode)},volume(s){s.preventDefault();let a=s.currentTarget,i=!1,h=d=>{d.preventDefault(),e.player.volume(r.percent(d,a)),i=!0},n=d=>{d.preventDefault(),a.removeEventListener(b.nameMap.dragEnd,n),a.removeEventListener(b.nameMap.dragMove,h),i?(e.player.muted(),e.player.volume(r.percent(d,a))):y.muted?(e.player.muted(),e.player.volume(y.volume)):(e.player.muted("muted"),r.update(0))};a.addEventListener(b.nameMap.dragMove,h),a.addEventListener(b.nameMap.dragEnd,n)},backward(s){r.step="prev",e.player.mode()},forward(s){r.step="next",e.player.mode()}},update(s){r.btns.volume.className="volume "+(!y.muted&&s>0?"on":"off")+" btn",r.btns.volume.bar.changeOrGetWidth(Math.floor(s*100)+"%")},percent(s,a){let i=((s.clientX||s.changedTouches[0].clientX)-a.left())/a.changeOrGetWidth();return i=Math.max(i,0),Math.min(i,1)}},c={el:null,bar:null,create(){let s=m.current().el;s&&(c.el&&(c.el.parentNode.removeClass("current").removeEventListener(b.nameMap.dragStart,c.drag),c.el.remove()),c.el=s.createChild("div",{className:"progress"}),c.el.attr("data-dtime",b.secondToTime(0)),c.bar=c.el.createChild("div",{className:"bar"}),s.addClass("current"),s.addEventListener(b.nameMap.dragStart,c.drag),m.scroll())},update(s){c.bar.changeOrGetWidth(Math.floor(s*100)+"%"),c.el.attr("data-ptime",b.secondToTime(s*y.duration))},seeking(s){s?c.el.addClass("seeking"):c.el.removeClass("seeking")},percent(s,a){let i=((s.clientX||s.changedTouches[0].clientX)-a.left())/a.changeOrGetWidth();return i=Math.max(i,0),Math.min(i,1)},drag(s){s.preventDefault();let a=m.current().el,i=n=>{n.preventDefault();let d=c.percent(n,a);c.update(d),N.update(d*y.duration)},h=n=>{n.preventDefault(),a.removeEventListener(b.nameMap.dragEnd,h),a.removeEventListener(b.nameMap.dragMove,i);let d=c.percent(n,a);c.update(d),e.player.seek(d*y.duration),y.disableTimeupdate=!1,c.seeking(!1)};y.disableTimeupdate=!0,c.seeking(!0),a.addEventListener(b.nameMap.dragMove,i),a.addEventListener(b.nameMap.dragEnd,h)}},l={el:null,create(){let s=m.current();l.el.innerHTML='<div class="cover"><div class="disc"><img src="'+s.cover+'" class="blur"  alt="music cover"/></div></div><div class="info"><h4 class="title">'+s.name+"</h4><span>"+s.artist+'</span><div class="lrc"></div></div>',l.el.child(".cover").addEventListener("click",e.player.options.events["play-pause"]),N.create(l.el.child(".lrc"))}},y,m={el:null,data:[],index:-1,errnum:0,add:(s,a)=>{a.forEach(i=>{i.group=s,i.name=i.name||i.title||"Meida name",i.artist=i.artist||i.author||"Anonymous",i.cover=i.cover||i.pic,i.type=i.type||"normal",m.data.push(i)})},clear(){m.data=[],m.el.innerHTML="",m.index!==-1&&(m.index=-1,e.player.fetch())},create(){let s=m.el;m.data.map((a,i)=>{if(a.el)return null;let h="list-"+e.player._id+"-"+a.group,n=v("#"+h);return n||(n=s.createChild("div",{id:h,className:e.player.group?"tab":"",innerHTML:"<ol></ol>"}),e.player.group&&n.attr("data-title",e.player.options.rawList[a.group].title).attr("data-id",e.player._id)),a.el=n.child("ol").createChild("li",{title:a.name+" - "+a.artist,innerHTML:'<span class="info"><span>'+a.name+"</span><span>"+a.artist+"</span></span>",onclick(d){let C=d.currentTarget;if(m.index===i&&c.el){y.paused?e.player.play():e.player.seek(y.duration*c.percent(d,C));return}e.player.switch(i),e.player.play()}}),a}),Fe()},current(){return this.data[this.index]},scroll(){let s=this.current(),a=this.el.child("li.active");a&&a.removeClass("active");let i=this.el.child(".tab.active");return i&&i.removeClass("active"),a=this.el.find(".nav li")[s.group],a&&a.addClass("active"),i=this.el.find(".tab")[s.group],i&&i.addClass("active"),U(s.el,s.el.offsetTop),this},title(){if(y.paused)return;let s=this.current();document.title="Now Playing..."+s.name+" - "+s.artist+" | "+oe},error(){let s=this.current();s.el.removeClass("current").addClass("error"),s.error=!0,this.errnum++}},p={el:null,create(){this.el||(this.el=e.createChild("div",{className:"player-info",innerHTML:(e.player.options.type==="audio"?'<div class="preview"></div>':"")+'<div class="controller"></div><div class="playlist"></div>'},"after"),l.el=this.el.child(".preview"),m.el=this.el.child(".playlist"),r.el=this.el.child(".controller"))},hide(){let s=this.el;s.addClass("hide"),window.setTimeout(()=>{s.removeClass("show hide")},300)}},u={type:"audio",mode:"random",btns:["play-pause","music"],controls:["mode","backward","play-pause","forward","volume"],events:{"play-pause"(s){y.paused?e.player.play():e.player.pause()},music(s){p.el.hasClass("show")?p.hide():(p.el.addClass("show"),m.scroll().title())}}},b={random(s){return Math.floor(Math.random()*s)},parse(s){let a=[];return[["music.163.com.*song.*id=(\\d+)","netease","song"],["music.163.com.*album.*id=(\\d+)","netease","album"],["music.163.com.*artist.*id=(\\d+)","netease","artist"],["music.163.com.*playlist.*id=(\\d+)","netease","playlist"],["music.163.com.*discover/toplist.*id=(\\d+)","netease","playlist"],["y.qq.com.*song/(\\w+)(.html)?","tencent","song"],["y.qq.com.*album/(\\w+)(.html)?","tencent","album"],["y.qq.com.*singer/(\\w+)(.html)?","tencent","artist"],["y.qq.com.*playsquare/(\\w+)(.html)?","tencent","playlist"],["y.qq.com.*playlist/(\\w+)(.html)?","tencent","playlist"],["xiami.com.*song/(\\w+)","xiami","song"],["xiami.com.*album/(\\w+)","xiami","album"],["xiami.com.*artist/(\\w+)","xiami","artist"],["xiami.com.*collect/(\\w+)","xiami","playlist"]].forEach(i=>{let n=new RegExp(i[0]).exec(s);n!==null&&(a=[i[1],i[2],n[1]])}),a},fetch(s){let a=[];return new Promise((i,h)=>{s.forEach(n=>{let d=b.parse(n);if(d[0]){let C=JSON.stringify(d),g=F.get(C);g?(a.push(...JSON.parse(g)),i(a)):fetch(`${CONFIG.playerAPI}/meting/?server=`+d[0]+"&type="+d[1]+"&id="+d[2]+"&r="+Math.random()).then(E=>E.json()).then(E=>{F.set(C,JSON.stringify(E)),a.push(...E),i(a)}).catch(E=>{})}else a.push(n),i(a)})})},secondToTime(s){let a=d=>isNaN(d)?"00":d<10?"0"+d:""+d,i=Math.floor(s/3600),h=Math.floor((s-i*3600)/60),n=Math.floor(s-i*3600-h*60);return(i>0?[i,h,n]:[h,n]).map(a).join(":")},nameMap:{dragStart:kt?"touchstart":"mousedown",dragMove:kt?"touchmove":"mousemove",dragEnd:kt?"touchend":"mouseup"}};y=null,e.player={_id:b.random(999999),group:!0,load(s){let a="";s&&s.length>0?this.options.rawList!==s&&(this.options.rawList=s,m.clear(),this.fetch()):(a="none",this.pause());for(let i in o.el)o.el[i].display(a);return this},fetch(){return new Promise((s,a)=>{if(m.data.length>0)s(!0);else if(this.options.rawList){let i=[];this.options.rawList.forEach((h,n)=>{i.push(new Promise((d,C)=>{let g=n,E;h.list?(this.group=!0,E=h.list):(g=0,this.group=!1,E=[h]),b.fetch(E).then(k=>{m.add(g,k),d(0)})}))}),Promise.all(i).then(()=>{s(!0)})}}).then(s=>{s&&(m.create(),r.create(),this.mode())})},mode(){let s=m.data.length;if(!s||m.errnum===s)return;let a=r.step==="next"?1:-1,i=()=>{let n=m.index+a;(n>s||n<0)&&(n=r.step==="next"?0:s-1),m.index=n},h=()=>{let n=b.random(s);m.index!==n?m.index=n:i()};switch(this.options.mode){case"random":h();break;case"order":i();break;case"loop":r.step&&i(),m.index===-1&&h();break}this.init()},switch(s){typeof s=="number"&&s!==m.index&&m.current()&&!m.current().error&&(m.index=s,this.init())},init(){let s=m.current();if(!s||s.error){this.mode();return}let a=!1;y.paused||(a=!0,this.stop()),y.attr("src",s.url),y.attr("title",s.name+" - "+s.artist),this.volume(F.get("_PlayerVolume")||"0.7"),this.muted(F.get("_PlayerMuted")),c.create(),this.options.type==="audio"&&l.create(),a===!0&&this.play()},play(){if(Ge&&Ge.player.pause(),m.current().error){this.mode();return}y.play().then(()=>{m.scroll()}).catch(s=>{})},pause(){y.pause(),document.title=oe},stop(){y.pause(),y.currentTime=0,document.title=oe},seek(s){s=Math.max(s,0),s=Math.min(s,y.duration),y.currentTime=s,c.update(s/y.duration)},muted(s){s==="muted"?(y.muted=s,F.set("_PlayerMuted",s),r.update(0)):(F.del("_PlayerMuted"),y.muted=!1,r.update(y.volume))},volume(s){isNaN(s)||(r.update(s),F.set("_PlayerVolume",s),y.volume=s)},mini(){p.hide()}};let N={el:null,data:null,index:0,create(s){let a=m.index,i=m.current().lrc,h=n=>{if(a!==m.index)return;this.data=this.parse(n);let d="";this.data.forEach((C,g)=>{d+="<p"+(g===0?' class="current"':"")+">"+C[1]+"</p>"}),this.el=s.createChild("div",{className:"inner",innerHTML:d},"replace"),this.index=0};i.startsWith("http")?this.fetch(i,h):h(i)},update(s){if(this.data&&(this.index>this.data.length-1||s<this.data[this.index][0]||!this.data[this.index+1]||s>=this.data[this.index+1][0])){for(let a=0;a<this.data.length;a++)if(s>=this.data[a][0]&&(!this.data[a+1]||s<this.data[a+1][0])){this.index=a;let i=-(this.index-1);this.el.style.transform="translateY("+i+"rem)",this.el.getElementsByClassName("current")[0].removeClass("current"),this.el.getElementsByTagName("p")[a].addClass("current")}}},parse(s){if(s){s=s.replace(/([^\]^\n])\[/g,(n,d)=>d+`
[`);let a=s.split(`
`),i=[],h=a.length;for(let n=0;n<h;n++){let d=a[n].match(/\[(\d{2}):(\d{2})(\.(\d{2,3}))?]/g),C=a[n].replace(/.*\[(\d{2}):(\d{2})(\.(\d{2,3}))?]/g,"").replace(/<(\d{2}):(\d{2})(\.(\d{2,3}))?>/g,"").trim();if(d){let g=d.length;for(let E=0;E<g;E++){let k=/\[(\d{2}):(\d{2})(\.(\d{2,3}))?]/.exec(d[E]),q=k[1]*60,R=parseInt(k[2]),D=k[4]?parseInt(k[4])/((k[4]+"").length===2?100:1e3):0,K=q+R+D;i.push([K,C])}}}return i=i.filter(n=>n[1]),i.sort((n,d)=>n[0]-d[0]),i}else return[]},fetch(s,a){fetch(s).then(i=>i.text()).then(i=>{a(i)}).catch(i=>{})}},B={onerror(){m.error(),e.player.mode()},ondurationchange(){y.duration!==1&&c.el.attr("data-dtime",b.secondToTime(y.duration))},onloadedmetadata(){e.player.seek(0),c.el.attr("data-dtime",b.secondToTime(y.duration))},onplay(){e.parentNode.addClass("playing"),vt(this.attr("title")),Ge=e},onpause(){e.parentNode.removeClass("playing"),Ge=null},ontimeupdate(){this.disableTimeupdate||(c.update(this.currentTime/this.duration),N.update(this.currentTime))},onended(s){e.player.mode(),e.player.play()}};return(s=>{e.player.created||(e.player.options=Object.assign(u,s),e.player.options.mode=F.get("_PlayerMode")||e.player.options.mode,o.create(),y=e.createChild(e.player.options.type,B),p.create(),e.parentNode.addClass(e.player.options.type),e.player.created=!0)})(t),e}});var is={};de(is,{default:()=>ss});function ss(){let e=v("#comments");if(e)fe.display("");else{fe.display("none");return}new IntersectionObserver((o,r)=>{let c=o[0];(c.isIntersecting||c.intersectionRatio>0)&&(_(v("#comments"),"bounceUpIn"),r.disconnect())}).observe(e)}var os=z(()=>{G();V();X()});function as(){let e=!0;window.addEventListener("DOMContentLoaded",function(){e=!1}),document.readyState==="loading"&&window.addEventListener("load",function(){e&&(window.dispatchEvent(new Event("DOMContentLoaded")),console.log("%c \u2601\uFE0Fcloudflare patch %c running(rocket & minify)","color: white; background: #ff8c00; padding: 5px 3px;","padding: 4px;border:1px solid #ff8c00"))})}var ns,rs,_e=z(()=>{ns=(e,t,o)=>{if(o)t();else{let r=document.createElement("script");r.onload=function(c,l){(l||!r.readyState)&&(console.log("abort!"),r.onload=null,r=void 0,!l&&t&&setTimeout(t,0))},r.src=e,document.head.appendChild(r)}},rs=e=>{let{text:t,parentNode:o,id:r,className:c,type:l,src:y,dataset:m}=e,p=t||e.textContent||e.innerHTML||"";o.removeChild(e);let u=document.createElement("script");r&&(u.id=r),c&&(u.className=c),l&&(u.type=l),y&&(u.src=y,u.async=!1),m.pjax!==void 0&&(u.dataset.pjax=""),p!==""&&u.appendChild(document.createTextNode(p)),o.appendChild(u)}});var ls,He,Ie,Ot=z(()=>{_e();ls=(e,t)=>{let o=CONFIG[e][t];return o.includes("gh")||o.includes("combine")?`https://cdn.jsdelivr.net/${o}`:o.includes("npm")?`https://cdn.jsdelivr.net/${o}`:o.includes("http")?o:`/${o}`},He=(e,t,o)=>{LOCAL[e]&&ns(ls("js",e),t||function(){window[e]=!0},o||window[e])},Ie=(e,t)=>{window["css"+e]||LOCAL[e]&&(document.head.createChild("link",{rel:"stylesheet",href:ls("css",e)}),window["css"+e]=!0)}});var cs={};de(cs,{postFancybox:()=>Is});var Is,ds=z(()=>{G();Ot();Is=e=>{v(e+" .md img")&&(Ie("fancybox"),He("fancybox",()=>{let t=jQuery.noConflict();v.each(e+" p.gallery",o=>{let r=document.createElement("div");r.className="gallery",r.attr("data-height",String(o.attr("data-height")||220)),r.innerHTML=o.innerHTML.replace(/<br>/g,""),o.parentNode.insertBefore(r,o),o.remove()}),v.each(e+" .md img:not(.emoji):not(.vemoji)",o=>{let r=t(o),c=r.attr("data-src")||r.attr("src"),l=r.wrap('<a class="fancybox" href="'+c+'" itemscope itemtype="https://schema.org/ImageObject" itemprop="url"></a>').parent("a"),y,m="image-info";if(r.is("a img")||(r.data("safe-src",c),r.is(".gallery img")?m="jg-caption":l.attr("data-fancybox","default").attr("rel","default")),y=o.attr("title")){l.attr("data-caption",y);let p=document.createElement("span"),u=document.createTextNode(y);p.appendChild(u),p.addClass(m),o.insertAfter(p)}}),v.each(e+" div.gallery",(o,r)=>{t(o).justifiedGallery({rowHeight:t(o).data("height")||120,rel:"gallery-"+r}).on("jg.complete",function(){t(this).find("a").each((c,l)=>{l.attr("data-fancybox","gallery-"+r)})})}),t.fancybox.defaults.hash=!1,t(e+" .fancybox").fancybox({loop:!0,helpers:{overlay:{locked:!1}}})},window.jQuery))}});var us=Le(Ce=>{"use strict";var Ss=Ce&&Ce.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.postBeauty=void 0;var Ps=Ss((os(),he(is))),W=(G(),he(Rt)),qs=(ds(),he(cs)),Nt=(be(),he(_t)),hs=(X(),he(Ft)),Ue=(V(),he(Wt)),js=(We(),he(es)),Bs=()=>{if((0,Ps.default)(),!(0,W.$dom)(".md"))return;(0,qs.postFancybox)(".post.block"),(0,W.$dom)(".post.block").oncopy=async t=>{if((0,Nt.showtip)(LOCAL.copyright),LOCAL.nocopy){t.preventDefault();return}let o=await W.$dom.asyncify("#copyright");if(window.getSelection().toString().length>30&&o){t.preventDefault();let r="# "+o.child(".author").innerText,c="# "+o.child(".link").innerText,l="# "+o.child(".license").innerText,y=window.getSelection().toString().replace(/\r\n/g,"<br>"),m=window.getSelection().toString().replace(/\r\n/g,`
`);if(t.clipboardData)t.clipboardData.setData("text/html",y),t.clipboardData.setData("text/plain",m);else if(window.clipboardData)return window.clipboardData.setData("text",m)}},W.$dom.each("li ruby",t=>{let o=t.parentNode;t.parentNode.tagName!=="LI"&&(o=t.parentNode.parentNode),o.addClass("ruby")}),W.$dom.each("ol[start]",t=>{t.style.counterReset="counter "+parseInt(t.attr("start")-1)}),W.$dom.each(".md table",t=>{t.wrapObject({className:"table-container"})}),W.$dom.each(".highlight > .table-container",t=>{t.className="code-container"}),W.$dom.each("figure.highlight",t=>{let o=t.child(".code-container"),r=t.child("figcaption");t.insertAdjacentHTML("beforeend",'<div class="operation"><span class="breakline-btn"><i class="ic i-align-left"></i></span><span class="copy-btn"><i class="ic i-clipboard"></i></span><span class="fullscreen-btn"><i class="ic i-expand"></i></span></div>');let c=t.child(".copy-btn");LOCAL.nocopy?c.remove():(c.addEventListener("click",u=>{let b=u.currentTarget,N="",B="";o.find("pre").forEach(M=>{B+=N+M.innerText,N=`
`}),(0,Nt.clipBoard)(B,M=>{b.child(".ic").className=M?"ic i-check":"ic i-times",b.blur(),(0,Nt.showtip)(LOCAL.copyright)})},{passive:!0}),c.addEventListener("mouseleave",u=>{setTimeout(()=>{u.target.child(".ic").className="ic i-clipboard"},1e3)})),t.child(".breakline-btn").addEventListener("click",u=>{let b=u.currentTarget;t.hasClass("breakline")?(t.removeClass("breakline"),b.child(".ic").className="ic i-align-left"):(t.addClass("breakline"),b.child(".ic").className="ic i-align-justify")});let y=t.child(".fullscreen-btn"),m=()=>{t.removeClass("fullscreen"),t.scrollTop=0,hs.BODY.removeClass("fullscreen"),y.child(".ic").className="ic i-expand"},p=()=>{if(t.hasClass("fullscreen")){if(m(),o&&o.find("tr").length>15){let u=o.child(".show-btn");o.style.maxHeight="300px",u.removeClass("open")}(0,Ue.pageScroll)(t)}else if(t.addClass("fullscreen"),hs.BODY.addClass("fullscreen"),y.child(".ic").className="ic i-compress",o&&o.find("tr").length>15){let u=o.child(".show-btn");o.style.maxHeight="",u.addClass("open")}};if(y.addEventListener("click",p),r&&r.addEventListener("click",p),o&&o.find("tr").length>15){o.style.maxHeight="300px",o.insertAdjacentHTML("beforeend",'<div class="show-btn"><i class="ic i-angle-down"></i></div>');let u=o.child(".show-btn"),b=()=>{o.style.maxHeight="300px",u.removeClass("open")},N=()=>{o.style.maxHeight="",u.addClass("open")};u.addEventListener("click",()=>{u.hasClass("open")?(m(),b(),(0,Ue.pageScroll)(o)):N()})}}),W.$dom.asyncifyEach("pre.mermaid > svg",t=>{let o=t;o.style.maxWidth=""}),W.$dom.each(".reward button",t=>{t.addEventListener("click",o=>{o.preventDefault();let r=(0,W.$dom)("#qr");r.display()==="inline-flex"?(0,Ue.transition)(r,0):(0,Ue.transition)(r,1,()=>{r.display("inline-flex")})})}),W.$dom.asyncifyEach(".quiz > ul.options li",t=>{t.addEventListener("click",()=>{t.hasClass("correct")?(t.toggleClass("right"),t.parentNode.parentNode.addClass("show")):t.toggleClass("wrong")})}),W.$dom.asyncifyEach(".quiz > p",t=>{t.addEventListener("click",()=>{t.parentNode.toggleClass("show")})}),W.$dom.asyncifyEach(".quiz > p:first-child",t=>{let o=t.parentNode,r="choice";(o.hasClass("true")||o.hasClass("false"))&&(r="true_false"),o.hasClass("multi")&&(r="multiple"),o.hasClass("fill")&&(r="gap_fill"),o.hasClass("essay")&&(r="essay"),t.attr("data-type",LOCAL.quiz[r])}),W.$dom.asyncifyEach(".quiz .mistake",t=>{t.attr("data-type",LOCAL.quiz.mistake)}),W.$dom.each("div.tags a",t=>{t.className=["primary","success","info","warning","danger"][Math.floor(Math.random()*5)]}),W.$dom.asyncifyEach(".md div.player",t=>{(0,js.mediaPlayer)(t,{type:t.attr("data-type"),mode:"order",btns:[]}).player.load(JSON.parse(t.attr("data-src"))).fetch()});let e=document.querySelectorAll(".show-btn .i-angle-down");if(e.length){let t=new IntersectionObserver(o=>{o.forEach(r=>{r.isIntersecting?e.forEach(c=>{c.classList.remove("stop-animation")}):e.forEach(c=>{c.classList.add("stop-animation")})})},{root:null,threshold:.5});e.forEach(o=>{t.observe(o)})}};Ce.postBeauty=Bs});var ws=Le((Ht,It)=>{(function(e,t){typeof Ht=="object"&&typeof It<"u"?It.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self).firework=t()})(Ht,function(){"use strict";class e{constructor(){this.queue=[]}add(f){return this.queue.push(new r(f)),this}play(){this.queue.forEach(f=>f.play())}}let t={targets:null,duration:1/0,easing:"linear",update:null};var o=()=>{let L={linear:()=>w=>w},f={Sine:()=>w=>1-Math.cos(w*Math.PI/2),Circ:()=>w=>1-Math.sqrt(1-w*w),Back:()=>w=>w*w*(3*w-2),Bounce:()=>w=>{let x,T=4;for(;w<((x=Math.pow(2,--T))-1)/11;);return 1/Math.pow(4,3-T)-7.5625*Math.pow((3*x-2)/22-w,2)}};return["Quad","Cubic","Quart","Quint","Expo"].forEach((w,x)=>{f[w]=()=>T=>Math.pow(T,x+2)}),Object.keys(f).forEach(w=>{let x=f[w];L["easeIn"+w]=x,L["easeOut"+w]=()=>T=>1-x()(1-T),L["easeInOut"+w]=()=>T=>T<.5?x()(2*T)/2:1-x()(-2*T+2)/2,L["easeOutIn"+w]=()=>T=>T<.5?(1-x()(1-2*T))/2:(x()(2*T-1)+1)/2}),L};class r{constructor(f=t){f=Object.assign({},t,f);let{targets:w,duration:x,easing:T,update:A,...O}=f;this.targets=w,this.duration=x,this.easing=T,this.update=A,this.dest=O||{},this.tl=null,this.isPlay=!1}timeline(){return this.tl===null&&(this.tl=new e),this.tl}play(){this.isPlay||(this.isPlay=!0,(f=>{let w=Date.now(),x=w+f.duration,T=!!f.targets,A=[],O=(H,I,S,Y,Z,le=!1)=>{H[Z]=le?Y:(Y-I)*S+I},P=(H,I,S=!1)=>{f.targets.forEach((Y,Z)=>{Object.keys(f.dest).forEach(le=>{let ze=parseFloat(A[Z][le]),ce=f.dest[le];if(typeof ce=="object"){if(!Array.isArray(ce)){let{value:qt,duration:jt,easing:Es}=ce;I<=w+jt?(H=o()[Es||f.easing]()((I-w)/jt),O(Y,ze,H,qt,le)):S&&O(Y,ze,H,qt,le,S)}}else typeof ce=="function"&&(ce=ce(Y,Z)),O(Y,ze,H,ce,le,S)})})},$=()=>{let H=Date.now();if(H>x)return P(1,H,!0),void(f.isPlay=!1);if(H<w)return void requestAnimationFrame($);let I=o()[f.easing]()((H-w)/f.duration);T&&P(I,H),typeof f.update=="function"&&f.update(f.targets),requestAnimationFrame($)};(()=>{if(T){Array.isArray(f.targets)||(f.targets=[f.targets]);for(let H of f.targets){let I={};for(let S in f.dest)I[S]=H[S];A.push(I)}}})(),$()})(this))}}let c=L=>new r(L);c.random=(L,f)=>Math.floor(Math.random()*(f-L+1))+L;let l=L=>Array.isArray(L)?c.random(L[0],L[1]):L,y=(L,f)=>{f=f.toUpperCase();do{if(L==null)break;if(L.nodeName===f)return!0}while((L=L.parentNode)!==null);return!1},m=(L,f)=>{var w;if(f.move.includes("emit")){let{emitRadius:x=[50,180]}=(w=f.moveOptions)!==null&&w!==void 0?w:{},T=c.random(0,360)*Math.PI/180;x=l(x);let A=[-1,1][c.random(0,1)]*x;L.endPos={x:L.x+A*Math.cos(T),y:L.y+A*Math.sin(T)}}},p=(L,f)=>{var w;if(f.move.includes("rotate")){let{angle:x=[-180,180]}=(w=f.moveOptions)!==null&&w!==void 0?w:{};L.endRotation=l(x)}};class u{constructor(f,w,x,T,A,O,P){this.ctx=f,this.x=w,this.y=x,this.color=T,this.radius=A,this.alpha=O,this.lineWidth=P,this.rotation=0}draw(){let{ctx:f,x:w,y:x}=this;f.save(),f.translate(w,x),f.rotate(this.rotation*(Math.PI/180)),f.globalAlpha=this.alpha,this.paint(),this.lineWidth?(f.lineWidth=this.lineWidth,f.strokeStyle=this.color,f.stroke()):(f.fillStyle=this.color,f.fill()),f.globalAlpha=1,f.restore()}}class b extends u{paint(){this.ctx.beginPath(),this.ctx.arc(0,0,this.radius,0,2*Math.PI)}}class N extends u{constructor(f,w,x,T,A,O,P,$){super(f,w,x,T,A,O,$),this.sides=P}paint(){let{ctx:f,sides:w,radius:x}=this;f.beginPath(),f.moveTo(x*Math.cos(0),x*Math.sin(0));for(let T=1;T<=w;T++){let A=2*T*Math.PI/w;f.lineTo(x*Math.cos(A),x*Math.sin(A))}f.closePath()}}class B extends u{constructor(f,w,x,T,A,O,P,$){super(f,w,x,T,A,O,$),this.spikes=P}paint(){let{ctx:f,spikes:w,radius:x}=this;f.beginPath(),f.moveTo(0,0-x);for(let T=0;T<2*w;T++){let A=T*Math.PI/w-Math.PI/2,O=T%2==0?x:.5*x,P=Math.cos(A)*O,$=Math.sin(A)*O;f.lineTo(P,$)}f.closePath()}}let M=(L,f,w,x)=>{let T=l(x.number),{radius:A,alpha:O=100,lineWidth:P}=x.shapeOptions;Array.isArray(O)?O=O.map(H=>100*H):O*=100;let $=[];for(let H=0;H<T;H++){let I=new b(L,f,w,x.colors[c.random(0,x.colors.length-1)],l(A),l(O)/100,l(P));m(I,x),p(I,x),$.push(I)}return $},s=(L,f,w,x)=>{let T=l(x.number),{radius:A,alpha:O=100,lineWidth:P}=x.shapeOptions;Array.isArray(O)?O=O.map(I=>100*I):O*=100;let $=l(x.shapeOptions.spikes),H=[];for(let I=0;I<T;I++){let S=new B(L,f,w,x.colors[c.random(0,x.colors.length-1)],l(A),l(O)/100,$,l(P));m(S,x),p(S,x),H.push(S)}return H},a=(L,f,w,x)=>{let T=l(x.number),{radius:A,alpha:O=100,lineWidth:P}=x.shapeOptions;Array.isArray(O)?O=O.map(I=>100*I):O*=100;let $=[],H=l(x.shapeOptions.sides);for(let I=0;I<T;I++){let S=new N(L,f,w,x.colors[c.random(0,x.colors.length-1)],l(A),l(O)/100,H,l(P));m(S,x),p(S,x),$.push(S)}return $},i=document.createElement("canvas");i.style.cssText="position:fixed;top:0;left:0;pointer-events:none;z-index:9999999",document.body.appendChild(i);let h=i.getContext("2d"),n=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)?"touchstart":"click",d=0,C=0,g=()=>{let L=window.devicePixelRatio||1;i.width=window.innerWidth*L,i.height=window.innerHeight*L,i.style.width=window.innerWidth+"px",i.style.height=window.innerHeight+"px",i.getContext("2d").scale(L,L)},E=L=>{var f,w,x,T;let{move:A}=L,O={};if(A.includes("emit")){let{radius:P=.1,alphaChange:$=!1,alphaEasing:H="linear",alphaDuration:I=[600,800]}=(f=L.moveOptions)!==null&&f!==void 0?f:{},{alpha:S=0}=(w=L.moveOptions)!==null&&w!==void 0?w:{};Array.isArray(S)?S=S.map(Z=>100*Z):S*=100;let Y={};$&&(Y={alpha:{value:l(S)/100,easing:H,duration:l(I)}}),O={...O,x:Z=>Z.endPos.x,y:Z=>Z.endPos.y,radius:l(P),...Y}}else if(A.includes("diffuse")){let{diffuseRadius:P=[80,160],lineWidth:$=0,alphaEasing:H="linear",alphaDuration:I=[600,800]}=(x=L.moveOptions)!==null&&x!==void 0?x:{},{alpha:S=0}=(T=L.moveOptions)!==null&&T!==void 0?T:{};Array.isArray(S)?S=S.map(Y=>100*Y):S*=100,O={...O,radius:l(P),lineWidth:l($),alpha:{value:l(S)/100,easing:H,duration:l(I)}}}return A.includes("rotate")&&(O={...O,rotation:P=>P.endRotation}),O},k=L=>{for(let f of L)f.draw()},q=c({duration:1/0,update(){h.clearRect(0,0,i.width,i.height)}}),R=null,D=null,K=L=>{D=L,R&&document.removeEventListener(n,R,!1),R=f=>{for(let w of L.excludeElements)if(y(f.target,w))return;q.play(),(w=>{d=w.clientX||w.touches&&w.touches[0].clientX,C=w.clientY||w.touches&&w.touches[0].clientY})(f),Ye(d,C)},document.addEventListener(n,R,!1),g(),window.removeEventListener("resize",g,!1),window.addEventListener("resize",g,!1)},Ye=(L,f)=>{if(!D)return;let{particles:w}=D,x=c().timeline();for(let T of w){let{duration:A,easing:O}=T,P=[];T.shape==="circle"?P=M(h,L,f,T):T.shape==="star"?P=s(h,L,f,T):T.shape==="polygon"&&(P=a(h,L,f,T));let $=E(T);x.add({targets:P,duration:l(A),easing:O,update:k,...$})}x.play()};return L=>{document.readyState==="loading"?window.addEventListener("DOMContentLoaded",()=>K(L),{passive:!0}):K(L)}})});var Ls=Le((St,Pt)=>{(function(e,t){typeof St=="object"&&typeof Pt<"u"?Pt.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self).Pjax=t()})(St,function(){"use strict";function e(s,a,i){return s instanceof HTMLCollection||s instanceof NodeList||s instanceof Array?Array.prototype.forEach.call(s,a,i):a.call(i,s,0,[s])}let t=(s,a)=>{(s=typeof s=="string"?s.split(" "):s).forEach(a)};function o(s,a,i,h){t(a,n=>{e(s,d=>{d.addEventListener(n,i,h)})})}function r(s,a,i={}){t(a,h=>{let n=new CustomEvent(h,{bubbles:!0,cancelable:!0,...i});e(s,d=>{d.dispatchEvent(n)})})}function c(s){let a=s.text||s.textContent||s.innerHTML||"",i=s.src||"",h=s.parentNode||document.querySelector("head")||document.documentElement,n=document.createElement("script");return!a.match("document.write")&&(n.type="text/javascript",n.id=s.id,i!==""&&(n.src=i,n.async=!1),a!==""&&n.appendChild(document.createTextNode(a)),h.appendChild(n),(h instanceof HTMLHeadElement||h instanceof HTMLBodyElement)&&h.contains(n)&&h.removeChild(n),!0)}function l(s,a,i,h=document){s.forEach(n=>{e(h.querySelectorAll(n),a,i)})}var y=(()=>{let s=0;return()=>`pjax${new Date().getTime()}_${s++}`})();function m(s,a){s.outerHTML=a.outerHTML,this.onSwitch()}function p(s,a){if(s.innerHTML=a.innerHTML,a.hasAttributes()){let i=a.attributes;for(let h=0;h<i.length;h++)s.attributes.setNamedItem(i[h].cloneNode())}this.onSwitch()}let u="data-pjax-state";function b(s,a){if(a.defaultPrevented||a.returnValue===!1)return;let i={...this.options},h=function(n,d){return d.which>1||d.metaKey||d.ctrlKey||d.shiftKey||d.altKey?"modifier":n.protocol!==window.location.protocol||n.host!==window.location.host?"external":n.hash&&n.href.replace(n.hash,"")===window.location.href.replace(location.hash,"")?"anchor":n.href===window.location.href.split("#")[0]+"#"?"anchor-empty":null}(s,a);if(h)s.setAttribute(u,h);else{if(a.preventDefault(),this.options.currentUrlFullReload&&s.href===window.location.href.split("#")[0])return s.setAttribute(u,"reload"),void this.reload();s.setAttribute(u,"load"),i.triggerElement=s,this.loadUrl(s.href,i)}}function N(s){if(s.tagName.toLowerCase()!=="a")throw new Error("theme-shokax-pjax can only be applied on <a>");s.hasAttribute("data-pjax-state")||this.attachLink(s)}function B(s,a,i,h,n,d){let C=[];i.forEach(g=>{let E=h.querySelectorAll(g),k=n.querySelectorAll(g);if(E.length!==k.length)throw new Error(`DOM doesn't look the same on new loaded page: '${g}' - new ${E.length}, old ${k.length}`);e(E,(q,R)=>{let D=k[R],K=s[g]?s[g].bind(this,D,q,d,a[g]):m.bind(this,D,q,d);C.push(K)},this)},this),this.state.numPendingSwitches=C.length,C.forEach(g=>{g()})}class M{constructor(a){this.state={numPendingSwitches:0,href:null,options:null},this.options=function({elements:i="a[href]",selectors:h=["title",".js-Pjax"],switches:n={},switchesOptions:d={},history:C=!0,scrollTo:g=0,scrollRestoration:E=!0,cacheBust:k=!0,timeout:q=0,currentUrlFullReload:R=!1}={}){let D={elements:i,selectors:h,switches:n,switchesOptions:d,history:C,scrollTo:g,scrollRestoration:E,cacheBust:k,timeout:q,currentUrlFullReload:R};return D.switches.head||(D.switches.head=p),D.switches.body||(D.switches.body=p),D}(a),this.options.scrollRestoration&&"scrollRestoration"in history&&(history.scrollRestoration="manual"),this.maxUid=this.lastUid=y(),this.parseDOM(document),o(window,"popstate",i=>{let h=i;if(h.state){let n={...this.options};n.url=h.state.url,n.title=h.state.title,n.history=!1,n.scrollPos=h.state.scrollPos,h.state.uid<this.lastUid?n.backward=!0:n.forward=!0,this.lastUid=h.state.uid,this.loadUrl(h.state.url,n)}})}getElements(a){return a.querySelectorAll(this.options.elements)}parseDOM(a){e(this.getElements(a),N,this)}refresh(a){this.parseDOM(a||document)}reload(){window.location.reload()}forEachSelectors(a,i,h){return l.bind(this)(this.options.selectors,a,i,h)}switchSelectors(a,i,h,n){return B.bind(this)(this.options.switches,this.options.switchesOptions,a,i,h,n)}latestChance(a){window.location=a}onSwitch(){r(window,"resize scroll"),this.state.numPendingSwitches--,this.state.numPendingSwitches===0&&this.afterAllSwitches()}loadContent(a,i){if(typeof a!="string")return void r(document,"pjax:complete pjax:error",i);let h=document.implementation.createHTMLDocument("pjax"),n=/\s?[a-z:]+(?:=['"][^'">]+['"])*/gi,d=a.match(/<html[^>]+>/gi);if(d&&d.length&&(d=d[0].match(n),d.length&&(d.shift(),d.forEach(C=>{let g=C.trim().split("=");g.length===1?h.documentElement.setAttribute(g[0],"true"):h.documentElement.setAttribute(g[0],g[1].slice(1,-1))}))),h.documentElement.innerHTML=a,document.activeElement&&function(C,g,E){for(let k of g){let q=C.querySelectorAll(k);for(let R=0;R<q.length;R++)if(q[R].contains(E))return!0}return!1}(document,this.options.selectors,document.activeElement))try{document.activeElement.blur()}catch{}this.switchSelectors(this.options.selectors,h,document,i)}loadUrl(a,i){i=typeof i=="object"?{...this.options,...i}:{...this.options},this.abortRequest(this.request),r(document,"pjax:send",i),this.request=this.doRequest(a,i,this.handleResponse.bind(this))}afterAllSwitches(){var a,i,h;this.options.selectors.forEach(d=>{e(document.querySelectorAll(d),C=>{(function(g){g.tagName.toLowerCase()==="script"&&c(g),e(g.querySelectorAll("script"),E=>{let k=E;k.type&&k.type.toLowerCase()!=="text/javascript"||(k.parentNode&&k.parentNode.removeChild(k),c(k))})})(C)})});let n=this.state;if(!((a=n.options)===null||a===void 0)&&a.history&&(window.history.state||(this.lastUid=this.maxUid=y(),window.history.replaceState({url:window.location.href,title:document.title,uid:this.maxUid,scrollPos:[0,0]},document.title)),this.lastUid=this.maxUid=y(),window.history.pushState({url:n.href,title:n.options.title,uid:this.maxUid,scrollPos:[0,0]},n.options.title,n.href)),this.forEachSelectors(d=>{this.parseDOM(d)},this),r(document,"pjax:complete pjax:success",n.options),(i=n.options)===null||i===void 0?void 0:i.history){let d=document.createElement("a");if(d.href=this.state.href,d.hash){let C=d.hash.slice(1);C=decodeURIComponent(C);let g=0,E=document.getElementById(C)||document.getElementsByName(C)[0];if(E&&E.offsetParent)do g+=E.offsetTop,E=E.offsetParent;while(E);window.scrollTo(0,g)}else n.options.scrollTo!==!1&&(Array.isArray(n.options.scrollTo)?window.scrollTo(n.options.scrollTo[0],n.options.scrollTo[1]):window.scrollTo(0,n.options.scrollTo))}else!((h=n.options)===null||h===void 0)&&h.scrollRestoration&&n.options.scrollPos&&window.scrollTo(n.options.scrollPos[0],n.options.scrollPos[1]);this.state={numPendingSwitches:0,href:null,options:null}}abortRequest(a){a&&a.readyState<4&&(a.onreadystatechange=()=>{},a.abort())}}return M.prototype.attachLink=function(s){s.setAttribute(u,""),o(s,"click",a=>b.call(this,s,a)),o(s,"keyup",a=>{let i=a;i.keyCode===13&&b.call(this,s,i)})},M.prototype.doRequest=function(s,a={},i){let h=a.requestOptions||{},n=(h.requestMethod||"GET").toUpperCase(),d=h.requestParams||null,C=null,g=new XMLHttpRequest,E=a.timeout;if(g.onreadystatechange=()=>{g.readyState===4&&(g.status===200?i(g.responseText,g,s,a):g.status!==0&&i(null,g,s,a))},g.onerror=k=>{console.error(k),i(null,g,s,a)},g.ontimeout=()=>{i(null,g,s,a)},d&&d.length){let k=d.map(q=>q.name+"="+q.value).join("&");switch(n){case"GET":s=s.split("?")[0],s+="?"+k;break;case"POST":C=k}}return a.cacheBust&&(s=function(k,q,R){let D=new RegExp("([?&])"+q+"=.*?(&|$)","i"),K=k.indexOf("?")!==-1?"&":"?";return k.match(D)?k.replace(D,"$1"+q+"="+R+"$2"):k+K+q+"="+R}(s,"t",Date.now())),g.open(n,s,!0),g.timeout=E,g.setRequestHeader("X-Requested-With","XMLHttpRequest"),g.setRequestHeader("X-PJAX","true"),g.setRequestHeader("X-PJAX-Selectors",JSON.stringify(a.selectors)),g.send(C),g},M.prototype.handleResponse=function(s,a,i,h){if((h={...h||this.options}).request=a,s===!1)return void r(document,"pjax:complete pjax:error",h);let n=window.history.state||{};window.history.replaceState({url:n.url||window.location.href,title:n.title||document.title,uid:n.uid||y(),scrollPos:[document.documentElement.scrollLeft||document.body.scrollLeft,document.documentElement.scrollTop||document.body.scrollTop]},document.title,window.location.href);let d=i;a.responseURL?i!==a.responseURL&&(i=a.responseURL):a.getResponseHeader("X-PJAX-URL")?i=a.getResponseHeader("X-PJAX-URL"):a.getResponseHeader("X-XHR-Redirected-To")&&(i=a.getResponseHeader("X-XHR-Redirected-To"));let C=document.createElement("a");C.href=d;let g=C.hash;C.href=i,g&&!C.hash&&(C.hash=g,i=C.href),this.state.href=i,this.state.options=h;try{this.loadContent(s,h)}catch(E){return r(document,"pjax:error",h),console.error("Pjax switch fail: ",E),this.latestChance(i)}},M.switches={innerHTML:function(s,a){s.innerHTML=a.innerHTML,a.className===""?s.removeAttribute("class"):s.className=a.className,this.onSwitch()},outerHTML:m},M})});X();be();V();G();var we=(e,t)=>{j.hasClass("on")?(j.removeClass("on"),ne.removeClass("close"),t?j.style="":_(j,"slideRightOut")):t?j.style="":_(j,"slideRightIn",()=>{j.addClass("on"),ne.addClass("close")})},Ut=()=>{let e=j.child(".inner");j.child(".tab")&&e.removeChild(j.child(".tab"));let t=document.createElement("ul"),o="active";t.className="tab",["contents","related","overview"].forEach(r=>{let c=j.child(".panel."+r);if(c.innerHTML.trim().length<1){r==="contents"&&ge.display("none");return}r==="contents"&&ge.display("");let l=document.createElement("li"),y=document.createElement("span"),m=document.createTextNode(c.attr("data-title"));y.appendChild(m),l.appendChild(y),l.addClass(r+" item"),o?(c.addClass(o),l.addClass(o)):c.removeClass("active"),l.addEventListener("click",p=>{let u=p.currentTarget;u.hasClass("active")||(j.find(".tab .item").forEach(b=>{b.removeClass("active")}),j.find(".panel").forEach(b=>{b.removeClass("active")}),j.child(".panel."+u.className.replace(" item","")).addClass("active"),u.addClass("active"))}),t.appendChild(l),o=""}),t.childNodes.length>1?(e.insertBefore(t,e.childNodes[0]),j.child(".panels").style.paddingTop=""):j.child(".panels").style.paddingTop=".625rem"},Xt=()=>{let e=m=>{let p=t[m];if(!p||p.hasClass("current"))return;v.each(".toc .active",b=>{b&&b.removeClass("active current")}),o.forEach(b=>{b&&b.removeClass("active")}),p.addClass("active current"),o[m]&&o[m].addClass("active");let u=p.parentNode;for(;!u.matches(".contents");){if(u.matches("li")){u.addClass("active");let b=v(u.child("a.toc-link").attr("href"));b&&b.addClass("active")}u=u.parentNode}getComputedStyle(j).display!=="none"&&c.hasClass("active")&&U(c,p.offsetTop-c.offsetHeight/4)},t=v.all(".contents li");if(t.length<1)return;let o=[...t],r=null;o=o.map((m,p)=>{let u=m.child("a.toc-link"),b=v(decodeURI(u.attr("href")));if(!b)return null;let N=b.child("a.anchor"),B=M=>{M.preventDefault();let s=v(decodeURI(M.currentTarget.attr("href")));r=p,U(s,null,()=>{e(p),r=null})};return u.addEventListener("click",B),N&&N.addEventListener("click",M=>{B(M),wt(CONFIG.hostname+"/"+LOCAL.path+M.currentTarget.attr("href"))}),b});let c=j.child(".contents.panel"),l=m=>{let p=0,u=m[p];if(u.boundingClientRect.top>0)return p=o.indexOf(u.target),p===0?0:p-1;for(;p<m.length;p++)if(m[p].boundingClientRect.top<=0)u=m[p];else return o.indexOf(u.target);return o.indexOf(u.target)};(()=>{let m=new IntersectionObserver(p=>{let u=l(p)+(ue<0?1:0);r===null&&e(u)},{rootMargin:"0px 0px -100% 0px",threshold:0});o.forEach(p=>{p&&m.observe(p)})})()},xt=()=>{U(0)},Yt=()=>{U(parseInt(String(Ve.changeOrGetHeight())))},zt=()=>{U(v("#comments"))},Jt=()=>{v.each(".menu .item:not(.title)",e=>{let t=e.child("a[href]"),o=e.parentNode.parentNode;if(!t)return;let r=t.pathname===location.pathname||t.pathname===location.pathname.replace("index.html",""),c=!CONFIG.root.startsWith(t.pathname)&&location.pathname.startsWith(t.pathname),l=t.hostname===location.hostname&&(r||c);e.toggleClass("active",l),e.parentNode.child(".active")&&o.hasClass("dropdown")?o.removeClass("active").addClass("expand"):o.removeClass("expand")})};X();var Vt=Te(Qt());X();V();var Kt=(0,Vt.default)("img, [data-background-image]",{loaded(e){e.addClass("lozaded")}}),te={timer:void 0,lock:!1,show(){clearTimeout(this.timer),document.body.removeClass("loaded"),ae.attr("style","display:block"),te.lock=!1},hide(e){CONFIG.loader.start||(e=-1),this.timer=setTimeout(this.vanish,e||3e3)},vanish(){te.lock||(CONFIG.loader.start&&_(ae,0),document.body.addClass("loaded"),te.lock=!0)}},Zt=()=>{let e;if(CONFIG.outime.enable&&LOCAL.outime){let t=document.getElementsByTagName("time");if(t.length===0)return;let o=document.getElementsByClassName("body md");if(o.length===0)return;let r=Date.now(),c=new Date(t[0].dateTime);t.length===1?e=c:e=new Date(t[1].dateTime);let l=parseInt(String(r-e)),y=parseInt(String(CONFIG.outime.days))||30;if(l>y*864e5){let m=parseInt(String((r-c)/864e5)),p=parseInt(String(l/864e5)),u=LOCAL.template.replace("{{publish}}",String(m)).replace("{{updated}}",String(p));o[0].insertAdjacentHTML("afterbegin",u)}}};G();We();function Et(){v.each(".overview .menu > .item",t=>{Q.child(".menu").appendChild(t.cloneNode(!0))}),ae.addEventListener("click",te.vanish),ne.addEventListener("click",we),v(".dimmer").addEventListener("click",we),je.child(".down").addEventListener("click",Yt),je.child(".up").addEventListener("click",xt),ee||pt(Ee.createChild("div",{id:"tool",innerHTML:'<div class="item player"></div><div class="item contents"><i class="ic i-list-ol"></i></div><div class="item chat"><i class="ic i-comments"></i></div><div class="item back-to-top"><i class="ic i-arrow-up"></i><span>0%</span></div>'})),ct(ee.child(".player")),dt(ee.child(".back-to-top")),ht(ee.child(".chat")),ut(ee.child(".contents")),me.addEventListener("click",xt),fe.addEventListener("click",zt),ge.addEventListener("click",we),typeof xe<"u"&&(xe(pe),v("main").addEventListener("click",()=>{pe.player.mini()})),(()=>{new IntersectionObserver(([t])=>{t.isIntersecting?(document.querySelectorAll(".parallax>use").forEach(o=>{o.classList.remove("stop-animation")}),document.querySelectorAll("#imgs .item").forEach(o=>{o.classList.remove("stop-animation")})):(document.querySelectorAll(".parallax>use").forEach(o=>{o.classList.add("stop-animation")}),document.querySelectorAll("#imgs .item").forEach(o=>{o.classList.add("stop-animation")}))},{root:null,threshold:.2}).observe(document.getElementById("waves")),new IntersectionObserver(([t])=>{t.isIntersecting?document.querySelectorAll(".with-love>i").forEach(o=>{o.classList.remove("stop-animation")}):document.querySelectorAll(".with-love>i").forEach(o=>{o.classList.add("stop-animation")})},{root:null,threshold:.2}).observe(document.querySelector(".with-love"))})()}G();G();var ts=()=>{if(!v(".index.wrap"))return;let e=new IntersectionObserver(t=>{t.forEach(o=>{o.target.hasClass("show")?e.unobserve(o.target):(o.isIntersecting||o.intersectionRatio>0)&&(o.target.addClass("show"),e.unobserve(o.target))})},{root:null,threshold:[.3]});v.each(".index.wrap article.item, .index.wrap section.item",t=>{e.observe(t)}),v(".index.wrap .item:first-child").addClass("show"),v.each(".cards .item",t=>{["mouseenter","touchstart"].forEach(o=>{t.addEventListener(o,()=>{v(".cards .item.active")&&v(".cards .item.active").removeClass("active"),t.addClass("active")},{passive:!0})}),["mouseleave"].forEach(o=>{t.addEventListener(o,()=>{t.removeClass("active")},{passive:!0})})})};var ys=Te(us());V();Ot();_e();G();X();Me();G();X();var se=e=>{let t=v(".theme .ic");e==="dark"?(ke.attr("data-theme",e),t.removeClass("i-sun"),t.addClass("i-moon")):(ke.attr("data-theme",null),t.removeClass("i-moon"),t.addClass("i-sun"))},ps=()=>{CONFIG.auto_dark.enable&&(new Date().getHours()>=CONFIG.auto_dark.start||new Date().getHours()<=CONFIG.auto_dark.end?se("dark"):se())},Mt=e=>{ke.attr("data-theme")==="dark"&&(e="#222"),v('meta[name="theme-color"]').attr("content",e)},ms=()=>{window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",t=>{t.matches?se("dark"):se()});let e=F.get("theme");e?se(e):CONFIG.darkmode&&se("dark")};var Xe=()=>{Ze(Q.changeOrGetHeight()),et(Ee.changeOrGetHeight()),tt(Oe+v("#waves").changeOrGetHeight()),$e!==window.innerWidth&&we(null,1),st(window.innerHeight),it(window.innerWidth)},fs=()=>{let e=window.innerHeight,t=Je(),o=t>e?t-e:document.body.scrollHeight-e,r=window.scrollY>Oe,c=window.scrollY>0;r?Mt("#FFF"):Mt("#222"),Q.toggleClass("show",r),ee.toggleClass("affix",c),Ke.toggleClass("affix",c),j.toggleClass("affix",window.scrollY>Re&&document.body.offsetWidth>991),typeof ie.y>"u"&&(ie.y=window.scrollY),ot(ie.y-window.scrollY),ue<0?(Q.removeClass("up"),Q.toggleClass("down",r)):ue>0&&(Q.removeClass("down"),Q.toggleClass("up",r)),ie.y=window.scrollY;let l=Math.round(Math.min(100*window.scrollY/o,100))+"%";me.child("span").innerText!==l&&(me.child("span").innerText=l),(v("#sidebar").hasClass("affix")||v("#sidebar").hasClass("on"))&&v(".percent").changeOrGetWidth(l)};var gs=()=>{let e=v('[rel="icon"]');document.addEventListener("visibilitychange",()=>{switch(document.visibilityState){case"hidden":e.attr("href",Pe+CONFIG.favicon.hidden),document.title=LOCAL.favicon.hide,CONFIG.loader.switch&&te.show(),clearTimeout(qe);break;case"visible":e.attr("href",Pe+CONFIG.favicon.normal),document.title=LOCAL.favicon.show,CONFIG.loader.switch&&te.hide(1e3),at(setTimeout(()=>{document.title=oe},2e3));break}})};X();We();be();Tt();var vs=()=>{Ae(),j.hasClass("on")&&_(j,0,()=>{j.removeClass("on"),ne.removeClass("close")});let e=v("#main");e.innerHTML="",e.appendChild(ae.lastChild.cloneNode(!0)),U(0)},At=e=>{ve(0),nt(window.location.href),Ie("katex"),He("copy_tex"),Ie("mermaid"),He("chart"),e!==1&&v.each("script[data-pjax]",rs),lt(document.title),Xe(),Jt(),Ut(),Xt(),(0,ys.postBeauty)(),Fe(),typeof xe<"u"&&pe.player.load(LOCAL.audio||CONFIG.audio||{}),te.hide(),setTimeout(()=>{bt()},500),ts(),Kt.observe(),Zt()};_e();X();V();G();function bs(e){if(CONFIG.search===null)return;re||mt(J.createChild("div",{id:"search",innerHTML:'<div class="inner"><div class="header"><span class="icon"><i class="ic i-search"></i></span><div class="search-input-container"></div><span class="close-btn"><i class="ic i-times-circle"></i></span></div><div class="results"><div class="inner"><div id="search-stats"></div><div id="search-hits"></div><div id="search-pagination"></div></div></div></div>'}));let t=instantsearch({indexName:CONFIG.search.indexName,searchClient:algoliasearch(CONFIG.search.appID,CONFIG.search.apiKey),searchFunction(r){v(".search-input").value&&r.search()}});t.on("render",()=>{e.refresh(v("#search-hits"))}),t.addWidgets([instantsearch.widgets.configure({hitsPerPage:CONFIG.search.hits.per_page||10}),instantsearch.widgets.searchBox({container:".search-input-container",placeholder:LOCAL.search.placeholder,showReset:!1,showSubmit:!1,showLoadingIndicator:!1,cssClasses:{input:"search-input"}}),instantsearch.widgets.stats({container:"#search-stats",templates:{text(r){return LOCAL.search.stats.replace(/\$\{hits}/,r.nbHits).replace(/\$\{time}/,r.processingTimeMS)+'<span class="algolia-powered"></span><hr>'}}}),instantsearch.widgets.hits({container:"#search-hits",templates:{item(r){let c=r.categories?"<span>"+r.categories.join('<i class="ic i-angle-right"></i>')+"</span>":"";return'<a href="'+CONFIG.root+r.path+'">'+c+r._highlightResult.title.value+"</a>"},empty(r){return'<div id="hits-empty">'+LOCAL.search.empty.replace(/\$\{query}/,r.query)+"</div>"}},cssClasses:{item:"item"}}),instantsearch.widgets.pagination({container:"#search-pagination",scrollTo:!1,showFirst:!1,showLast:!1,templates:{first:'<i class="ic i-angle-double-left"></i>',last:'<i class="ic i-angle-double-right"></i>',previous:'<i class="ic i-angle-left"></i>',next:'<i class="ic i-angle-right"></i>'},cssClasses:{root:"pagination",item:"pagination-item",link:"page-number",selectedItem:"current",disabledItem:"disabled-item"}})]),t.start(),v.each(".search",r=>{r.addEventListener("click",()=>{document.body.style.overflow="hidden",_(re,"shrinkIn",()=>{v(".search-input").focus()})})});let o=()=>{document.body.style.overflow="",_(re,0)};re.addEventListener("click",r=>{r.target===re&&o()}),v(".close-btn").addEventListener("click",o),window.addEventListener("pjax:success",o),window.addEventListener("keyup",r=>{r.key==="Escape"&&o()})}X();be();var xs=Te(ws());function Cs(){typeof CONFIG.fireworks>"u"||(0,xs.default)(CONFIG.fireworks)}var ks=Te(Ls());Me();V();G();X();function Ts(){Vue.createApp({data(){return{}},methods:{changeThemeByBtn(){let e,t=v(".theme").child(".ic"),o=J.createChild("div",{id:"neko",innerHTML:'<div class="planet"><div class="sun"></div><div class="moon"></div></div><div class="body"><div class="face"><section class="eyes left"><span class="pupil"></span></section><section class="eyes right"><span class="pupil"></span></section><span class="nose"></span></div></div>'}),r=()=>{_(o,{delay:2500,opacity:0},()=>{J.removeChild(o)})};t.hasClass("i-sun")?e=()=>{o.addClass("dark"),se("dark"),F.set("theme","dark"),r()}:(o.addClass("dark"),e=()=>{o.removeClass("dark"),se(),F.set("theme","light"),r()}),_(o,1,()=>{setTimeout(e,210)},()=>{o.display("block")})}}}).mount("#rightNav")}var Rs=()=>{Et(),Ts(),rt(new ks.default({selectors:["head title",".languages",".twikoo",".pjax",".leancloud-recent-comment","script[data-config]"],cacheBust:!1})),CONFIG.quicklink.ignores=LOCAL.ignores,quicklink.listen(CONFIG.quicklink),ps(),CONFIG.disableVL||gs(),ms(),bs(De),Cs(),window.addEventListener("scroll",fs),window.addEventListener("resize",Xe),window.addEventListener("pjax:send",vs),window.addEventListener("pjax:success",At),window.addEventListener("beforeunload",()=>{Ae()}),At(1)};as();window.addEventListener("DOMContentLoaded",Rs,{passive:!0});console.log("%c Theme.ShokaX v"+CONFIG.version+" %c https://github.com/theme-shoka-x/hexo-theme-shokaX ","color: white; background: #e9546b; padding:5px 0;","padding:4px;border:1px solid #e9546b;");})();
/*! Bundled license information:

lozad/dist/lozad.min.js:
  (*! lozad.js - v1.16.0 - 2020-09-06
  * https://github.com/ApoorvSaxena/lozad.js
  * Copyright (c) 2020 Apoorv Saxena; Licensed MIT *)
*/
