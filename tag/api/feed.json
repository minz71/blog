{
    "version": "https://jsonfeed.org/version/1",
    "title": "minz的筆記本 • All posts by \"api\" tag",
    "description": "",
    "home_page_url": "https://blog.minz.li",
    "items": [
        {
            "id": "https://blog.minz.li/CS/weatherAPI/",
            "url": "https://blog.minz.li/CS/weatherAPI/",
            "title": "API使用範例-氣象資料開放平台",
            "date_published": "2024-02-27T16:00:00.000Z",
            "content_html": "<h1 id=\"api使用範例-氣象資料開放平台\"><a class=\"anchor\" href=\"#api使用範例-氣象資料開放平台\">#</a> API 使用範例 - 氣象資料開放平台</h1>\n<h2 id=\"介紹\"><a class=\"anchor\" href=\"#介紹\">#</a> 介紹</h2>\n<div class=\"note primary\">\n<p>這篇文章介紹關於氣象資料開放平台 API 的註冊和使用說明，並提供了程式碼範例。</p>\n</div>\n<ol>\n<li>\n<p>到<a href=\"https://opendata.cwa.gov.tw/index\">氣象資料開放平台</a>註冊帳號<br />\n<img loading=\"lazy\" data-src=\"/assets/weatherAPI/openWeatherData.webp\" alt=\"\" width=\"85%\" /></p>\n</li>\n<li>\n<p>註冊一個帳號 <a href=\"https://pweb.cwa.gov.tw/emember/register\">https://pweb.cwa.gov.tw/emember/register</a><br />\n<img loading=\"lazy\" data-src=\"/assets/weatherAPI/openWeatherDataRegister.webp\" alt=\"\" width=\"85%\" /></p>\n</li>\n<li>\n<p>到電子信箱啟用會員後再次<a href=\"https://opendata.cwa.gov.tw/userLogin\">登入</a><br />\n<img loading=\"lazy\" data-src=\"/assets/weatherAPI/emailConfirm.webp\" alt=\"\" width=\"85%\" /></p>\n</li>\n<li>\n<p>登入後取得授權碼並將授權碼複製下來<br />\n<img loading=\"lazy\" data-src=\"/assets/weatherAPI/getToken.webp\" alt=\"\" width=\"85%\" /></p>\n</li>\n<li>\n<p>前往開發指南查看<a href=\"https://opendata.cwa.gov.tw/dist/opendata-swagger.html\"> api 文件</a><br />\n<img loading=\"lazy\" data-src=\"/assets/weatherAPI/apiDoc.webp\" alt=\"\" width=\"85%\" /></p>\n</li>\n<li>\n<p>可以在 swagger 文檔中使用 API request<br />\n<img loading=\"lazy\" data-src=\"/assets/weatherAPI/trySwagger1.webp\" alt=\"\" width=\"85%\" /></p>\n</li>\n<li>\n<p>填入需要的參數後點擊 Execute 執行<br />\n<img loading=\"lazy\" data-src=\"/assets/weatherAPI/trySwagger2.webp\" alt=\"\" width=\"85%\" /></p>\n</li>\n<li>\n<p>執行後的回傳結果<br />\n<img loading=\"lazy\" data-src=\"/assets/weatherAPI/result.webp\" alt=\"\" width=\"85%\" /></p>\n</li>\n</ol>\n<h2 id=\"執行程式碼\"><a class=\"anchor\" href=\"#執行程式碼\">#</a> 執行程式碼</h2>\n<p><img loading=\"lazy\" data-src=\"/assets/weatherAPI/urlFormat.webp\" alt=\"\" width=\"85%\" /></p>\n<ul>\n<li>\n<p>BaseUrl<br />\n<img loading=\"lazy\" data-src=\"/assets/weatherAPI/baseUrl.webp\" alt=\"\" width=\"85%\" /></p>\n</li>\n<li>\n<p>API Path<br />\n<img loading=\"lazy\" data-src=\"/assets/weatherAPI/apiPath.webp\" alt=\"\" width=\"85%\" /></p>\n</li>\n</ul>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">const</span> baseUrl <span class=\"token operator\">=</span> <span class=\"token string\">\"https://opendata.cwa.gov.tw/api/v1/\"</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> <span class=\"token string\">\"rest/datastore/F-D0047-063\"</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">const</span> Authorization <span class=\"token operator\">=</span> <span class=\"token string\">\"yourAuthorization\"</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span> baseUrl <span class=\"token operator\">+</span> path <span class=\"token operator\">+</span> <span class=\"token string\">\"?Authorization=\"</span> <span class=\"token operator\">+</span> Authorization<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">response</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">return</span> response<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">myJson</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>myJson<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token comment\">// 輸出 json 資料</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><ul>\n<li>結果輸出<br />\n<img loading=\"lazy\" data-src=\"/assets/weatherAPI/consoleTest.webp\" alt=\"\" width=\"85%\" /></li>\n</ul>\n",
            "tags": [
                "API"
            ]
        }
    ]
}